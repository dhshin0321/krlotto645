<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOTTO6/45 번호 생성기</title>
    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=e7792702246bec1c4bf599bf666f71aa&libraries=services"></script>
    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.1/kakao.min.js" crossorigin="anonymous"></script>
</head>
<body>
    <div class="wrapper">
        <div class="container">
            <h1>
                <span class="title-lotto">
                    <span class="lotto-normal-size" style="color: #004EA2;">L</span><span class="lotto-normal-size" style="color: #00A0D2;">o</span><span class="lotto-normal-size" style="color: #004EA2;">tt</span><span class="lotto-normal-size" style="color: #8FC31F;">o</span><span class="lotto-small-size" style="color: #004EA2;">6</span><span class="lotto-small-size" style="color: #8FC31F;">/</span><span class="lotto-small-size" style="color: #004EA2;">45</span>
                </span>
                
                <span class="title-round">
                    <span id="currentRound">1209</span>회차 번호 생성기
                </span>

                <span class="title-date">
                    (<span id="currentDate">2026-01-31</span> 추첨 예정)
                </span>
            </h1>

            <div id="result">
                <div class="ball placeholder"></div>
                <div class="ball placeholder"></div>
                <div class="ball placeholder"></div>
                <div class="ball placeholder"></div>
                <div class="ball placeholder"></div>
                <div class="ball placeholder"></div>
            </div>

            <div class="button-group">
                <button id="generate">번호 생성</button>
                <button id="immediate-generate" class="hidden">즉시 생성</button>
            </div>

            <div class="share-section">
                <button id="kakao-share-btn" class="kakao-btn">🍀 행운 보내기 (카카오톡)</button>
            </div>

            <div class="filter-wrapper">
                <h3>번호 필터 설정</h3>
                
                <div class="filter-section">
                    <div class="filter-header">
                        <span>포함할 번호 (최대 5개)</span>
                        <span class="count-badge" id="include-count">0/5</span>
                    </div>
                    <div id="include-numbers-container" class="number-grid">
                        </div>
                </div>

                <div class="filter-section">
                    <div class="filter-header">
                        <span>제외할 번호 (최대 38개)</span>
                        <span class="count-badge" id="exclude-count">0/38</span>
                    </div>
                    <div id="exclude-numbers-container" class="number-grid">
                        </div>
                </div>
            </div>
        </div>

        <div class="sidebar">
            <div id="history-container">
                <div class="history-header">
                    <h2>번호 기록</h2>
                    <button id="history-clear-btn" class="history-clear-btn">전체 삭제</button>
                </div>
                <p class="history-limit-info">최대 30개까지 저장되며, 초과 시 오래된 기록부터 삭제됩니다.</p>
                <div id="history-list"></div>
            </div>

            <div id="map-container-box">
                <h2>📍 주변 로또 판매점</h2>

                <!-- ★ 추가: 위치 권한이 "영구 차단" 등으로 팝업이 안 뜨는 경우 안내 문구(지도 위, 최상단) -->
                <!-- (JS에서 필요할 때만 표시/숨김 처리할 예정) -->
                <div id="map-permission-banner" class="map-permission-banner" style="display:none;">
                    위치 권한이 차단되어 있어요.<br>
                    주소창 옆 🔒 아이콘에서 위치 허용으로 바꿀 수 있어요.
                </div>

                <div id="map"></div>
                <p class="map-info">* 현재 위치 기준으로 가까운 로또 판매점을 표시합니다.</p>
            </div>
        </div>
    </div>

    <div id="explanation-container">
        <h2 class="guide-title">🍀 로또 번호 생성기 이용 안내</h2>
        <ul class="guide-list">
            <li>1부터 45까지의 숫자 중 중복 없이 6개의 번호를 무작위로 추출합니다.</li>
            <li>매주 토요일 추첨되는 로또 6/45의 공식 규칙을 따르며, 생성된 번호는 하단/우측 기록에 자동으로 저장됩니다.</li>
            <li>행운을 나누는 마음으로 제작되었습니다. 가벼운 마음으로 번호를 확인해 보세요.</li>
        </ul>

        <h2 class="prize-title">🏆 당첨구조</h2>
        <div class="table-responsive">
            <table class="prize-table">
                <thead>
                    <tr>
                        <th>등위</th>
                        <th>당첨조건</th>
                        <th>당첨금</th>
                        <th>당첨확률</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1등</td>
                        <td>
                            6개 번호 일치
                            <div class="match-dots">
                                <span class="dot active"></span><span class="dot active"></span><span class="dot active"></span><span class="dot active"></span><span class="dot active"></span><span class="dot active"></span>
                            </div>
                        </td>
                        <td>총 당첨금 중 4등, 5등 금액을 제외한 금액의 75%</td>
                        <td>1 / 8,145,060</td>
                    </tr>
                    <tr>
                        <td>2등</td>
                        <td>
                            5개 + 보너스 일치
                            <div class="match-dots">
                                <span class="dot active"></span><span class="dot active"></span><span class="dot active"></span><span class="dot active"></span><span class="dot active"></span><span class="dot"></span><span class="dot bonus-plus">+</span><span class="dot bonus"></span>
                            </div>
                        </td>
                        <td>총 당첨금 중 4등, 5등 금액을 제외한 금액의 12.5%</td>
                        <td>1 / 1,357,510</td>
                    </tr>
                    <tr>
                        <td>3등</td>
                        <td>
                            5개 번호 일치
                            <div class="match-dots">
                                <span class="dot active"></span><span class="dot active"></span><span class="dot active"></span><span class="dot active"></span><span class="dot active"></span><span class="dot"></span>
                            </div>
                        </td>
                        <td>총 당첨금 중 4등, 5등 금액을 제외한 금액의 12.5%</td>
                        <td>1 / 35,724</td>
                    </tr>
                    <tr>
                        <td>4등</td>
                        <td>
                            4개 번호 일치
                            <div class="match-dots">
                                <span class="dot active"></span><span class="dot active"></span><span class="dot active"></span><span class="dot active"></span><span class="dot"></span><span class="dot"></span>
                            </div>
                        </td>
                        <td>50,000원</td>
                        <td>1 / 733</td>
                    </tr>
                    <tr>
                        <td>5등</td>
                        <td>
                            3개 번호 일치
                            <div class="match-dots">
                                <span class="dot active"></span><span class="dot active"></span><span class="dot active"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>
                            </div>
                        </td>
                        <td>5,000원</td>
                        <td>1 / 45</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <audio id="dingSound" src="ding.mp3" preload="auto"></audio>
    <script src="script.js"></script>
</body>
</html>
